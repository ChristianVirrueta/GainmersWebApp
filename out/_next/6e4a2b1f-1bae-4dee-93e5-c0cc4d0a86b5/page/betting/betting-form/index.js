
          window.__NEXT_REGISTER_PAGE('/betting/betting-form', function() {
            var comp = module.exports=webpackJsonp([3],{134:function(e,t,a){"use strict";function n(e){if(e.session.category_item.length>0){var t="";return e.query.slug?t=e.query.slug:e.betting&&(t=(0,u.handelize)(e.betting.eventName)),l.default.createElement("div",{id:"container-group-categories",className:"group-categories"},e.session.category_item.map(function(e,a){return l.default.createElement(s.Link,{key:a,route:"/betting/"+e.slug},l.default.createElement("a",{"data-item-id":e.id,"data-item-order":e.order},l.default.createElement(i.Button,{primary:!0,className:e.slug+" "+(t===e.slug?"category-active":"")},e.name)))}))}return l.default.createElement("div",{id:"container-group-categories",className:"group-categories"})}Object.defineProperty(t,"__esModule",{value:!0}),t.renderChoices=n;var r=a(0),l=function(e){return e&&e.__esModule?e:{default:e}}(r),i=a(22),s=a(65),u=a(62);t.default=function(e){return n(e)}},135:function(e,t,a){"use strict";function n(e){return i.default.get(r.API_URL+"/api/categories/find",{params:e})}Object.defineProperty(t,"__esModule",{value:!0}),t.getCategoriesFind=n;var r=a(51),l=a(66),i=function(e){return e&&e.__esModule?e:{default:e}}(l)},262:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOrdersFind=t.createNewOrder=t.getOrderById=void 0;var r=a(55),l=n(r),i=a(58),s=n(i),u=a(51),c=a(66),o=n(c);t.getOrderById=function(){var e=(0,s.default)(l.default.mark(function e(t){var a;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.default.get(u.API_URL+"/api/orders/"+t+".json");case 2:if(a=e.sent,!a.data){e.next=5;break}return e.abrupt("return",a.data);case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.createNewOrder=function(){var e=(0,s.default)(l.default.mark(function e(t){var a;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.default.post(u.API_URL+"/api/orders.json",t,{headers:{"Content-Type":"application/json"}});case 2:if(a=e.sent,!a.data){e.next=5;break}return e.abrupt("return",a.data);case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.getOrdersFind=function(){var e=(0,s.default)(l.default.mark(function e(t){var a;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.default.get(u.API_URL+"/api/orders/find",{params:t});case 2:if(a=e.sent,!a.data){e.next=5;break}return e.abrupt("return",a.data);case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},510:function(e,t,a){e.exports=a(511)},511:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(32),l=n(r),i=a(55),s=n(i),u=a(295),c=n(u),o=a(58),d=n(o),m=a(26),f=n(m),p=a(18),b=n(p),h=a(19),g=n(h),y=a(27),v=n(y),_=a(28),E=n(_),k=a(0),N=n(k),x=a(46),w=n(x),S=a(61),O=n(S),C=a(31),B=n(C),T=a(134),F=n(T),M=a(968),I=n(M),P=a(969),A=n(P),R=a(22),q=a(135),G=a(441),L=a(262),j=a(62),H=a(51),U=a(39),D=n(U),V=function(e){function t(e){var a=this;(0,b.default)(this,t);var n=(0,v.default)(this,(t.__proto__||(0,f.default)(t)).call(this,e));return n.handleTabSelect=function(e,t){var a=t.activeIndex;return n.setState({tabs:{active:!0,key:a}})},n.OptionBetChange=function(e,t){var a=n.state.betting_data;a[t].checked=!n.state.betting_data[t].checked,n.setState({betting_data:a})},n.OptionContribChange=function(e,t){var a=n.state.betting_data;a[t].contribution=parseFloat(e.target.value),n.setState({betting_data:a})},n.CleanAllBet=function(e){var t=n.state.betting_data;D.default.each(t,function(e,a){t[e].checked=!1,t[e].contribution=0}),n.setState({betting_data:t})},n.ValidBetForm=function(e){var t=n,a=t.sessionVerify(),r="Session invalid, please try to reload the page.";if(a){var l=0,i=0;if(D.default.each(t.state.betting_data,function(e,t){t.checked&&i++,t.checked&&t.contribution<=0&&((0,D.default)(".input[data-winneroption="+t.winnerOption+"]").addClass("error"),r="Please, complete all fields.",l++)}),0===i&&(r="Please, select at least one of the options.",l++),0===l)return{validate:!0,user_id:a}}return{validate:!1,message:r}},n.SubmitBetOrder=function(){var e=(0,d.default)(s.default.mark(function e(t,r){var l,i,u,o,d,m,f,p,b,h,g,y,v,_,E;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l=n,i=l.state.account,u="Your transaction could not be saved",o=0,d=0,m=[],0!==l.state.betting_data.length&&i){e.next=9;break}return console.log("ERR"),e.abrupt("return",{validate:!1,message:u});case 9:return e.prev=9,e.next=12,(0,G.getSportEvent)(l.props.query.address);case 12:f=e.sent,p=[],b=0,D.default.each(l.state.betting_data,function(e,t){var a=(0,j.formatEtherToWei)(t.contribution.toString(),"ether");b+=parseFloat(a),d+=parseFloat(t.contribution),p.push(a),t.checked&&m.push({type:t.type,player1:t.player1,player2:t.player2,other:t.other,quantity:1,price:t.contribution,product_id:l.props.query.address,variant_id:t.winnerOption})}),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(9),o++,u=e.t0.message.split("\n")[0];case 22:if(0!==o){e.next=36;break}return e.next=25,(0,j.getClientDetails)();case 25:return h=e.sent,g=(0,j.getMobileOS)(),y={eventName:l.props.betting.eventName,country1:l.props.betting.country1,country2:l.props.betting.country2,date:l.props.betting.date,hour:l.props.betting.hour,devFee:l.props.betting.devFee},v={account_number:i,account_reference:"Ethereum"},_=(0,c.default)({email:l.state.email,token:localStorage.jwtToken,send_notification:!0,total_price:d,currency:"ETHEREUM",checkout_token:l.props.query.address,checkout_details:y,browser_ip:h.browser_ip,client_details:h,source_name:g,line_items:m,payment_details:v,schema_origin:l.state.betting_schema,user_id:r}),e.next=32,(0,L.createNewOrder)(_);case 32:if(!(E=e.sent)){e.next=36;break}return u="Thank you\n Your transaction has been confirmed\n Wait to be redirected.",e.abrupt("return",{validate:!0,message:u});case 36:return e.abrupt("return",{validate:!1,message:u});case 37:case"end":return e.stop()}},e,a,[[9,18]])}));return function(t,a){return e.apply(this,arguments)}}(),n.state.category_item=[],n.state.betting_schema=[],n.state.betting_data=[],n.state.orders_history=[],n.state.dom={loading:!1,check_disabled:!1},n.state.tabs={active:!1,key:0},n}return(0,E.default)(t,e),(0,g.default)(t,[{key:"componentDidMount",value:function(){var e=this;if(e.sessionValidate(B.default,{onSession:!0}),e.fn_data_init_load(e),console.log(e.props.query),e.props.query.mybets){e.setState({tabs:{active:!0,key:1}}),(0,j.scrollAnimate)((0,D.default)("#container-betting-summary"),40);var t=window.location.href,a=t.split("?");window.history.pushState("","",a[0])}(0,D.default)(document).on("click",".unchecked-bet",function(t){t.preventDefault(),e.CleanAllBet(t)}),(0,D.default)(document).on("keyup",'input[name="contribution_bet"]',function(t){var a=window.Event?t.which:t.keyCode,n=(0,D.default)(this),r=n.parent().attr("data-winneroption");if(13==a){var l=(0,D.default)(".input[data-winneroption="+r+"]");l.length?l.find("input").focus():(0,D.default)(".place-bet-submit").focus()}else(0,j.filterFloat)(t,n)&&e.OptionContribChange(t,r)}),(0,D.default)(document).on("click",'button[name="place-bet-submit"]',function(t){t.preventDefault(),e.setState({dom:{loading:!0,check_disabled:!0}}),(0,D.default)(".error-form").remove(),(0,D.default)(".input").removeClass("error");var a=e.ValidBetForm(t);a.validate?(a=e.SubmitBetOrder(t,a.user_id),a.then(function(t){t.validate?((0,D.default)("#container-content-tab").append('<p class="success-form">'+t.message+"</p>"),e.setState({dom:{loading:!1,check_disabled:!0}}),(0,j.scrollAnimate)((0,D.default)(".success-form"),120),setTimeout(function(){var e=window.location.href;-1===e.indexOf("mybets")?window.location.href=e+"?mybets=OK":location.reload()},4e3)):setTimeout(function(){(0,D.default)("#container-content-tab").append('<p class="error-form">'+t.message+"</p>"),e.setState({dom:{loading:!1,check_disabled:!1}})},3500)}).catch(function(e){console.log("Error place-bet-submit"),console.log(e)})):setTimeout(function(){(0,D.default)("#container-content-tab").append('<p class="error-form">'+a.message+"</p>"),e.setState({dom:{loading:!1,check_disabled:!1}})},3500)}),(0,D.default)(document).on("click",".accordion-section .accordion",function(e){(0,D.default)(this).hasClass("active")?((0,D.default)(this).removeClass("active"),(0,D.default)(this).next().toggle()):((0,D.default)(this).addClass("active"),(0,D.default)(this).next().toggle()),e.preventDefault()})}},{key:"fn_data_init_load",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(s.default.mark(function e(t){var a,n,r;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,q.getCategoriesFind)({parent_id:"null"}),a.then(function(e){e.data.length>0&&t.setState({category_item:e.data})}).catch(function(e){console.log("Error fn_data_init_load"),console.log(e)}),n=(0,j.getBettingFootballSchema)(),n.length>0&&(t.setState({betting_schema:n}),t.setState({betting_data:n})),e.next=6,(0,L.getOrdersFind)({address:t.state.account,checkout_token:t.props.query.address});case 6:r=e.sent,r.length&&t.setState({orders_history:r});case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"render",value:function(){return N.default.createElement(w.default,(0,l.default)({className:"layout-betting-form"},this.props,{style:"session",navbar:!0,footer:!0,session:this.state}),N.default.createElement(R.Grid,null,N.default.createElement(R.Grid.Row,null,N.default.createElement("div",{className:"titulo-02"},N.default.createElement("div",{className:"titulo-number"},N.default.createElement("div",{className:"mask-number"},"02")),N.default.createElement("div",{className:"titulo-content"},"SELECT YOUR POSSIBLE RESULT AND BET:"),N.default.createElement("span",{className:"subtitulo"},"Select one or more options from the table"))),N.default.createElement(R.Grid.Row,null,N.default.createElement(F.default,{query:this.props.query,session:this.state,betting:this.props.betting})),N.default.createElement(R.Grid.Row,{className:"box-room"},N.default.createElement(R.Header,{as:"h3",color:"teal"},N.default.createElement("p",{className:"room-name"}),N.default.createElement("span",{className:"name-group"},H.EVENT_NAME_GAME," - ",this.props.betting.eventName),N.default.createElement("span",{className:"user-room"}))),N.default.createElement(R.Grid.Row,{columns:"2",divided:!0},N.default.createElement(R.Grid.Column,null,N.default.createElement(R.Container,{text:!0},N.default.createElement("div",{className:"fecha-d"},N.default.createElement(R.Icon,{name:"calendar"}),this.props.betting.date,N.default.createElement(R.Icon,{style:{padding:"0 10px"},name:"clock"}),this.props.betting.hour),N.default.createElement("div",{className:"titulo-pais"},N.default.createElement("div",{style:{display:"inline-block",verticalAlign:"middle"}},N.default.createElement(R.Flag,{className:this.props.betting.country1}),this.props.betting.country1,N.default.createElement("span",{style:{display:"block",fontSize:"16px"}},"(Left side)")),N.default.createElement("div",{style:{display:"inline-block",verticalAlign:"top",margin:"0 20px"}},N.default.createElement("span",null,"   VS")),N.default.createElement("div",{style:{display:"inline-block",verticalAlign:"middle"}},N.default.createElement(R.Flag,{style:{padding:"10px"},className:this.props.betting.country2}),this.props.betting.country2,N.default.createElement("span",{style:{display:"block",fontSize:"16px"}},"(Right side)")),N.default.createElement("br",null)))),N.default.createElement(R.Grid.Column,null,N.default.createElement(R.Container,null,N.default.createElement("div",{className:"mieter"},N.default.createElement("span",{className:"text-eter"},"Accumulated",N.default.createElement("br",null)," total of betting (ETH):"),N.default.createElement("span",{className:"valor-eter"},N.default.createElement("span",{className:"mskh"},(0,j.formatEtherFromWei)(this.props.betting.balance,"ether"))))))),N.default.createElement(R.Grid.Row,{columns:"2",divided:!0},N.default.createElement(R.Grid.Column,null,N.default.createElement(I.default,{columns:"3",betting:this.props.betting,session:this.state,current:this})),N.default.createElement(R.Grid.Column,{className:"box-padding"},N.default.createElement(A.default,{betting:this.props.betting,session:this.state,current:this})))))}}],[{key:"getInitialProps",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(s.default.mark(function e(t){var a;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,G.getBettingInfo)(t.query.address);case 2:return a=e.sent,e.abrupt("return",{session:null,lang:"en",query:t.query,betting:a});case 4:case"end":return e.stop()}},e,this)}));return e}()}]),t}(O.default);t.default=V},968:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if("other"===e.type){var a="";return e.player1?a=e.player1.replace("[player1]",t.country1):e.player2?a=e.player2.replace("[player2]",t.country2):e.other&&(a=e.other),s.default.createElement("span",{className:"marker-player-other"},s.default.createElement("span",null,a))}return s.default.createElement("div",{className:"marker-player-points"},s.default.createElement("span",{className:"marker-player player-1"},e.player1)," - Â ",s.default.createElement("span",{className:"marker-player player-2"},e.player2))}function l(e){if(e.session.betting_schema.length>0){var t=e.session.betting_data,a=parseInt(e.columns),n=[],l=[];return o.default.each(e.session.betting_schema,function(e,t){n.push(t),(e+1)%a==0&&(l.push(n),n=[])}),n.length>0&&(l.push(n),n=[]),s.default.createElement("div",{id:"container-betting-schema",className:"group-betting"},s.default.createElement(u.Grid,{columns:a},l.map(function(a,n){return s.default.createElement(u.Grid.Row,{key:n},a.map(function(a,n){return s.default.createElement(u.Grid.Column,{key:n},s.default.createElement(u.Segment,{className:"box-layout"},s.default.createElement(u.Checkbox,{className:"marker-bet-checkout",name:"betting_data",disabled:e.session.dom.check_disabled,onChange:function(t){return e.current.OptionBetChange(t,a.winnerOption)},checked:t[a.winnerOption].checked}),s.default.createElement(u.Header,{as:"h3",className:"other"===a.type?"other-option-bet":""},r(a,e.betting))))}))})),s.default.createElement(u.Button,{style:{marginTop:"15px"},floated:"right",className:"unchecked-bet"},"Uncheck all"))}return s.default.createElement("div",{id:"container-betting-schema",className:"group-betting"})}Object.defineProperty(t,"__esModule",{value:!0}),t.defineBettingBoxType=r,t.renderBettingSchema=l;var i=a(0),s=n(i),u=a(22),c=a(39),o=n(c);t.default=function(e){return l(e)}},969:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e.betting.eventName){var t=e.session.betting_data,a=e.session.orders_history,n=[{menuItem:"Bet",render:function(){return i.default.createElement(s.Tab.Pane,null,i.default.createElement(c.default,{menu_key:0,menu_render:null,betting:e.betting,betting_data:t,current:e.current}))}},{menuItem:"My Bets",render:function(){return i.default.createElement(s.Tab.Pane,null,i.default.createElement(d.default,{menu_key:1,menu_render:null,betting:e.betting,orders_history:a,current:e.current}))}}];if(n.length>0)return i.default.createElement("div",{id:"container-betting-summary",className:"group-betting-summary"},i.default.createElement(s.Dimmer,{active:e.session.dom.loading},i.default.createElement(s.Loader,{indeterminate:!0},"Metamask is procesing the transaction")),i.default.createElement(s.Tab,{activeIndex:e.session.tabs.key,onTabChange:e.current.handleTabSelect,menu:{inverted:!0,compact:!0},panes:n}))}return i.default.createElement("div",{id:"container-betting-summary",className:"group-betting-summary"})}Object.defineProperty(t,"__esModule",{value:!0}),t.renderStages=r;var l=a(0),i=n(l),s=a(22),u=a(970),c=n(u),o=a(971),d=n(o);t.default=function(e){return r(e)}},970:function(e,t,a){"use strict";function n(e){var t=0;return e.length>0&&e.map(function(e,a){return t+=parseFloat(e.contribution)}),(0,o.format_money)(t)}function r(e,t){if("other"===e.type){var a="",n="";return e.player1?(n="summary-other-player1",a=e.player1.replace("[player1]",t.country1)):e.player2?(n="summary-other-player2",a=e.player2.replace("[player2]",t.country2)):e.other&&(n="summary-other",a=e.other),u.default.createElement(c.Header,{as:"h3",className:"custom-content-line miHeight"},u.default.createElement("span",{className:n},u.default.createElement("span",null,a)))}return u.default.createElement(c.Header,{as:"h3",className:"custom-content-line"},u.default.createElement("span",{className:"item-bet item-bet-left"},e.player1),"-",u.default.createElement("span",{className:"item-bet item-bet-right"},e.player2))}function l(e,t){return u.default.createElement("div",null,u.default.createElement(c.List.Content,{floated:"right"},u.default.createElement(c.Input,{className:"miInput",placeholder:"Value in Ether",name:"contribution_bet","data-winneroption":e.winnerOption,disabled:t.current.state.dom.check_disabled}),u.default.createElement(c.Button,{className:"miButton",icon:"close"})),u.default.createElement(c.List.Content,null,r(e,t.betting)))}function i(e){var t=e.betting_data;return u.default.createElement("div",{id:"container-content-tab",className:"content-tabs"},u.default.createElement(c.List,{divided:!0,relaxed:!0,className:"bet-lines-container__after-click"},t.map(function(t,a){return u.default.createElement(c.List.Item,{key:a,className:t.checked?"listitem-border":""},t.checked?l(t,e):null)})),u.default.createElement(c.Segment,null,u.default.createElement(c.Header,{block:!0,color:"teal",as:"h5",style:{fontSize:"1.3em",fontWeight:"normal",marginTop:"1.5em"}},u.default.createElement("span",{className:"total"},"Total bet:"),u.default.createElement("span",{className:"total-eter total-bet-end"}," ",n(e.betting_data)),u.default.createElement("br",null),u.default.createElement(c.Button,{className:"place-bet",primary:!0,size:"large",name:"place-bet-submit"},"Place bet!")),u.default.createElement("br",null),u.default.createElement("p",{style:{textAlign:"right"}},"*Service Fee: ",e.betting.devFee,"%")))}Object.defineProperty(t,"__esModule",{value:!0}),t.format_total_bet=n,t.defineBettingBoxType=r,t.renderItemBet=l,t.renderContentTab=i;var s=a(0),u=function(e){return e&&e.__esModule?e:{default:e}}(s),c=a(22),o=a(62);t.default=function(e){return i(e)}},971:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if("other"===e.type){var a="",n="";return e.player1?(n="summary-other-player1",a=e.player1.replace("[player1]",t.country1)):e.player2?(n="summary-other-player2",a=e.player2.replace("[player2]",t.country2)):e.other&&(n="summary-other",a=e.other),s.default.createElement("div",{className:"column column-score"},s.default.createElement("span",{className:n+" bet-info info-numbers"},s.default.createElement("span",null,a)))}return s.default.createElement("div",{className:"column column-score"},s.default.createElement("span",{className:"bet-info info-numbers"},s.default.createElement("span",{className:"bet-info-left"},e.player1),s.default.createElement("span",{className:"script"},"-"),s.default.createElement("span",{className:"bet-info-right"},e.player2)))}function l(e){if(e.orders_history.length>0){var t=[];return d.default.each(e.orders_history,function(e,a){if(0===t.length)t.push({id:a.id,checkout_details:d.default.parseJSON(a.checkout_details),created_at:a.created_at,financial_status:a.financial_status,name:a.name,order_number:a.order_number,line_items:d.default.parseJSON(a.line_items),total_price:a.total_price});else{var n=t[0].line_items,r=d.default.parseJSON(a.line_items);d.default.each(r,function(e,a){var r=!1;d.default.each(n,function(e,n){if(n.variant_id===a.variant_id){r=!0;var l=parseFloat(n.price)+parseFloat(a.price);t[0].line_items[e].price=l}}),r||t[0].line_items.push(a)});var l=t[0].total_price,i=a.total_price,s=parseFloat(l)+parseFloat(i);t[0].total_price=s}}),t[0].line_items.sort(function(e,t){return e.variant_id>t.variant_id?1:e.variant_id<t.variant_id?-1:0}),s.default.createElement("div",{id:"container-content-history",className:"content-tabs accordion-section summary-my-bet"},s.default.createElement(u.Segment,null,t.map(function(e,t){return s.default.createElement("div",{className:"accordion-line","data-id":e.id,key:t},s.default.createElement("button",{className:"accordion"},e.checkout_details.country1," vs ",e.checkout_details.country2),s.default.createElement("div",{className:"panel"},s.default.createElement("div",{className:"bet-lines-container"},e.line_items.map(function(t,a){return s.default.createElement("div",{className:"bet-line","data-reference":e.order_number+""+t.variant_id,key:a},r(t,e.checkout_details),s.default.createElement("div",{className:"column column-retorn text-right"},s.default.createElement("label",{className:"label-retorn-line text-left"},(0,c.format_money)(t.price,4,""))),s.default.createElement("div",{className:"clear"}))})),s.default.createElement("div",{className:"bet-summary-container mybets-summary"},s.default.createElement("div",{className:"total-bet"},s.default.createElement("div",{className:"columns column-6 text-left"},"Total bet: "),s.default.createElement("div",{className:"columns column-6 text-right"},(0,c.format_money)(e.total_price)),s.default.createElement("div",{className:"clear"})),s.default.createElement("div",{className:"buy-date"},s.default.createElement("label",null,"Buy ",(0,c.format_datetime)(e.created_at,"d/m/Y H:m 12M"))))))})))}return s.default.createElement("div",{id:"container-content-history",className:"content-tabs accordion-section summary-my-bet"})}Object.defineProperty(t,"__esModule",{value:!0}),t.defineBettingBoxType=r,t.renderContentTab=l;var i=a(0),s=n(i),u=a(22),c=a(62),o=a(39),d=n(o);t.default=function(e){return l(e)}}},[510]);
            return { page: comp.default }
          })
        